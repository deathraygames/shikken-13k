<html><head><meta charset=utf-8> 
<title>Shikken</title><style> 
body {
	background: #667;
	margin: 0;
	padding: 0;
	font-size: calc(14px + 1vmin);
	font-family: 'Trebuchet MS', 'Lucida Sans', Arial, sans-serif;
}
main {
	position: fixed;
	width: 100vw;
	height: 100wh;
}

ul {
	padding: 0;
	margin: 0;
}
li {
	display: block;
	padding: calc(0.5em + 1vh) 0;
}


#w {
	width: 1000px;
	height: 1000px;
	/* border: solid 1px black; */
	position: absolute;
	background: #f1e7d9;
	box-shadow: 0 0 5vmin rgba(0, 0, 0, 0.8);
	cursor: grab;
}
.creating #w {
	cursor: crosshair;
}
#ws, #wc {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	/* background: rgba(255, 0, 0, 0.2); */
}
#ws {
	/* background: rgba(0, 0, 255, 0.2); */
}

.ui {
	position: fixed;
	background: rgba(0, 0, 0, 0.6);
	color: #fff;
	width: 100vw;
	display: flex;
	flex-direction: column;
	/* justify-content: space-around; */
	/* padding: 2vmin; */
	box-sizing: border-box;
}
.uirow {
	display: flex;
	justify-content: space-around;
	padding: 2vmin;
}
#tui {
	top: 0;
}
#bui {
	bottom: 0;
}

button {
	position: relative;
	border-radius: 2em;
	border: solid 1px #555;
	background: rgba(255, 255, 255, 0.7);
	color: #000;
	padding: 2vmin;
	font-size: inherit;
	cursor: pointer;
}
button:hover {
	background: #ffd;
}
button > i {
	font-style: normal;
	text-shadow: 0 0 0.1em #000, 0.1em 0.1em 0 #000, 0 0.1em 0 #000;
}
button > b {
	position: absolute;
	bottom: 0.5em;
	left: 0;
	width: 100%;
	font-size: 50%;
}
button[disabled] {
	border-color: transparent;
	background: transparent;
	cursor: unset;
}
button, #blist {
	transition: all ease-in-out 0.2s;
}
#binfo {
	background: rgba(255, 255, 255, 0.5);
	display: flex;
	justify-content: space-between;
	padding: 1vmin;
}
#blist {
	display: block;
	transform: scale(0);
	padding: 0 1vmin;
	max-width: 30em;
	min-width: 20em;
	background: rgba(255, 255, 255, 0.9);
	color: #111;
	margin: 0 auto;
	overflow: hidden;
}
.b-name {
	font-size: 2em;
}
.bselected #blist {
	transform: scale(1);
}

.bselected #build,
.looping #pause,
.creating #cancel,
.bselected #blist,
.pop #jobs,
.assigning #jass {
	transform: scale(1);
	max-height: 100vh;
}
#pause, #build, #cancel, #blist, #jobs, #jass,
.looping #play,
.creating #build,
.creating #blist,
.pop #restart {
	transform: scale(0);
	max-height: 0;
}

/* Jobs assignment */
#jass {
	text-align: right;
	padding: 1vmin;
	background: #fff;
	color: #000;
	width: 36em;
	margin: 1vmin 1vmin 0 auto;
}
#jass ul {
	padding: 0;
	margin: 0;
}
#jass li {
	display: block;
	padding: 1em 0;
}
#jass b {
	display: inline-block;
	width: 3em;
	text-align: center;
}
#jass label {
	display: inline-block;
	width: 18em;
	text-align: right;
}
#jass input[type="range"] {
	width: 18em;
}
.altname {
	opacity: 0.5;
	font-size: 65%;
}

.up-action {
	cursor: pointer;
	border-bottom: solid 1px #666;
	padding: 0.5em 1em;
	display: flex;
	justify-content: space-between;
}
.up-action:hover {
	background: #ffd;
}

#b-up-toggle {
	padding: 1em 2em;
}


/* --- SVG --- */
.meeple-g {
	transition: all linear 0.1s;
}
.meeple {
	stroke: #000;
	stroke-width: 3px;
}
.mj-idle {
	fill: #777;
}
.mj-prod {
	fill: #0c5;
}
.mj-carr {
	fill: #cc0;
}
.mj-defe {
	fill: #c50;
}
.mj-spir {
	fill: #05c;
}

.building, .building-connector {
	fill: #fff;
	stroke: #555;
	stroke-width: 2px;
	cursor: pointer;
}
.building:hover {
	stroke: #000;
}

.selectedb > * {
	stroke: #0ff;
	stroke-width: 4px;
}

.road {
	stroke: #b99;
	stroke-width: 4px;
}

.b-prod-circle {
	fill: none;
	stroke: rgba(0, 0, 0, 0.18);
}

.b-outpost {
	fill: #fff;
}
.b-connector {
	fill: #fff;
}
.b-stockpile {
	fill: #fff;
}
.b-woodCutter {
	fill: #9b9;
}
.b-stoneMine {
	fill: #663;
}
.b-oreMine {
	fill: #b83;
}
.b-tower {
	fill: #b99;
}
.b-fortress {
	fill: #a55;
}
.b-grainFarm {
	fill: #7a7;
}
.b-riceFarm {
	fill: #6c6;
}
.b-shrine {
	fill: #4df;
}
.b-temple {
	fill: #09f;
}
.b-farmHouse {
	fill: #cca;
}
.b-urbanHouse {
	fill: #bb9;
}
.res {
	stroke: #000;
	stroke-width: 1px;
	fill: #5cc;
}
/* https://lospec.com/palette-list/japanese-woodblock */
.res-grain { fill: #b1a58d; stroke: #e0c872;  }
.res-rice { fill: #e3cfb4; stroke: #b1a58d; }
.res-stone { fill: #5d7275; stroke: #2b2821; }
.res-wood { fill: #624c3c; stroke: #2b2821; }
.res-ore { fill: #243d5c; stroke: #b1a58d; }</style></head> 
<body><script> 
eval(Function("[M='OPBTkXCXjtPDGUcFEVid@fpJm_opuhLZjInwufEM`LB^]|`Tf~Va~[KlsNkr[AuwTVQMsHco[kPsMHRlPQDMtrAQgAkKyPBqSK?oI[evAr}xTwwFObYFZlQ`H]bYl~oZ^TZ|mSvSusoiFbO~`e[iOrssjQsYkCqqYOhZhlZIGY~BcyfJihBCcQjUfEzr[}T?OUkbSo~rs[GJKa}XYBn@QpeavN{mTdSqLN{M^bcNLowNhncrALdZGGJA~~HWBqW]Y~|f`HYaL[Z}ACvjlYM|YvRzBXy}x?~[LoRKeXzvrw}t[jd]OOb@@Wo[i@t^qsEMm[]IbhGFxobZQ`prBRWkmw|w|K}a{i?hHUBbmRH~[IEbnxA^JhZo}yaPkD^XoTUj]soO[cifKt^BG_D{cHAayobGYKMBDw|Vt~stQ[@NutCCBVc{qUz~MFw@tgFWI^gqcqcey@r`TLw^uan@VG]xc?nwxXrZ~WoQFlkZnMD|em}mcCdYd_xBYcDxQ]xFtl^cln}~i@xbW]vauTb?csKt?Z@BNqQU[LBvOO}AS|umsnNaxWjpc}NHH|P`ZR`YnO@KmeBG^QkrYXR`r|_DWzXvMY{{RnPGswkrgDFt{mw_omQfFnH]~_GgSlONloxtNvQuEJ_bS?TqYKxk?`HbyfKyn^VfTAJXPvhgTHo~`|VFRBhjoIISwNHlwVMko`M^A@aJKALSKdhy]]nhyZo?TNeFs|S_jX{?sJxBAw@ttdVG__[rYhm{pEImzbL[|fbWFNBS^??CtfdiZduUWGH_bGsQsi`?^AukcrP{bFbNS{osOqYUII_MQoLLBU?FXvPaWRo]qkpf]SRlzFFhEdls}vOgg?MrXgrtepCefDt[eMzqJu@]erLMIqW?Cu~HIAHB}mRKxrqfktqTW_Tah?xkFRPKaV_nqSFyITsjyyXunFmTROcVWXnwKhVjIHmwLZlvlDHpgeAYvdZ?]Z?Wb^QHA_bnINzod@~mfk]_~gCU~]EiVGV{AU`QOro}b{[pfcrKzKd@GtwE`jXql{AaPHRDgpwSQGghslExN]zJ]TMQOBrRf`aKfUBteMv[EJ`bh]H^CnKBYVH`ReeOC]uKBQI~XFHajC[oXsQf]yz[DUN[|RIA]uQeeWbDo]btOW}m^~XXNIVGDAxK@dsktqSt_KHp]`g{WUVm[DISGuBuyCJhLKs~NWGFy{kqg_LNpAlLfadITciXqzy?ikCUHMtW`Lu^sOJfX|Ze_m[k_WUMA^}HJe@]osFKcPGBlttUEh[Yg~HhwqxXLMvOcZeeJgSV@Aytn[@wzrLX]{gMEGu~[[?]fk~CUO~FiLjYI[aCL|YnVIbOss`i]asL||_gehnKBEofJWVieSQigKknr_|gR?N~Rc]vjHwFAAxEvHsiqUAfy@VhTQ^Tni]g{JsPe~As^}pXpymj}h?K[zw~XQybhTrR[NKMnftBoPiCVDRjv~afCYcxsgjSA{Pbl~D~a@v?q|OCtA}ommhP}a?HQ|kc{ze]jFbKb^]}{|czPNksD?KzVXz[XniD]KZQYNupY]Gp~VRK]ZF@uuVurBIDXzX_NlOuZ?lkVSozaA{EtpQvIVz]HUSxTs@s`T?~PkAz_mucCVXPOJoJ`qAQBxsqaVfM_T@`kV@qDjcBaT}YxNz?JAUzfViExH@uxTnuP[UokN|p?UNkBSKk{xHQ{fr{Ics{`p}CJQh^AxGvVpIyvtuD{EzvZUwiP``X`Db]Vw^zlCjC[Ioy__cvKbaNDCImjHkcJAO^rsa]|[RDYxYeGH~}IdTCL~KcFmkMVXBLc?icF[kRUZApFGeYmU^r@yRH^gZcQbCftPwKsq@paI?~CiII`H]{pl_}UE~Tl^TsdCcJdoouGNZQqChCp~xwQJaZu^~uDFtRXRS?kIVnDdzH]h?KUtyAbrhk_B`hL}~GJOPVlPMCmpEif}CUL?qb?cnPia||sF`[x[Q|nUIE?CHqeau]LiLq?WPEcFjcaPSvCr`o__Jz]gpbra@@W]mt?vmxlEn}{adey@W|ZqdDpcmojs_v_qRB~S`H^^qtkYTgjIykfXc[HGHK{FZfZvQpW}IteuYLMvIHbUHSt}wLvqaJiADHoj}StYnrmGUrTe}OH}Tv^MQis[yV{BiKQWnTSADUoSfk_{TJ@jj{kdJms@VCczXzJYy~^{F?BI@gzxDwTAstiTfDTEWPXkLLtwvKeNL}uTa|iCXMQgZcjoJXoswzwtZZw?`HXVhQTLpbmBROYkpdcqK[vtVwRwRpHgzFH|SyIh@`kO[GrQN?c}FH~SZb[mUUE}Sw@VTpvYM_gEF`C_cJse^gG`W@ZTAv@PqzoiHePrela@gxzh{Qnd}SOYeU`CrK_|MJ?VaguI[sxozYq[KxWhUl[q]~ciqXyzuU?aJOqhE[@PNJsKAfobKdT~ut~JDPlTrqx]H?KhSrSuMsYjvkUpsUKTZ]BITv@_BFSlbCVKIB]sJ|BrOOEAjKuwDuvuc}B`U`qkRX[]]wmBRllEljVtfHBPvf{e[CywOBv`@S~GVOcIgI`w[OGn{IfNxMU}Ahsga`WR_ySAlFauQ_zZMEUVfzr`rBn^[L]IR[giKBgsxTRC}kSzVyUgGJbUXeDfkOcYgKdhcapQVXtJ@OYeSfqfhfCBmon~DrAghomfR]zYLEsSK?GtWFwtCCMsE]jbMv^mMQ@~VOz`JFbyC?UP}`YxD_`C@lFK_yKGaQnjlhJgvJDojF}pXTrPNVGJq^ASxUWqHYxtIRBjc|~a}VyElzDx|rhXy|_i_vmejK~zyIEuHqDIZVUQxVLkGaO{W|Op{Hw]iOexmKXnXRgtCkBSTDd_[sZJ_I}}IOgStdFWFj`{kis`jYLFSsNyfBHtXi]PzI~_Mqg`{QU~|ojEpWedo~IMe|pUy~EpASSLvE{t][s~dI_pKyvWf~QnpHRIYY]cHZVbZxAIGIfi`}EmbOgwuwU`SZOM_g}KBYKwdSpfVWSyfTnNiz{wP`J]`r~VGVvrgQfI``}CHEyifd|~v?zlspdpZpVMeScLEiNe]B{`DG}fcZRGN_Br?WJKVp~i@zNx`dO|D~srI_@fQOl|Car]ZrQGqs]JeXrSTa}XpuHimgoipWjpE[x^foFwuP{mxk^tr{Dh~KY|[?poeXErvi~IP_ozdX]uT?laVkfF?QuvRvy}FPH?]}MuUPWYVSW?K@`lhns[nsfDgdaf]^oJPNtMSZujYI~xdccIK|]wCIN`PyTDERiY@W~lFXbpIumsM|emesXrDipKC[UoSyyPrU|MQWxZafC`NzAzAl}aE`LiqcTng{xuP[RdsELA}p[V~Ppk^J?yVhx@^My}ksBDCXxs~?Zmm?QYp_]oGPeLtY_B[S?{DdKcQ?egu|AFLirbSsCbWlswgRhwsZvnqBK^wZ?HUsGjoDK?nqhKQ`PmT_}bKMLXwpq}_g}miJN}NNaPqoQWJkmdeqa@oUj?UEvzOK??V^ufuqRmoGH`ztJTE{yDBp^eLiIiT@@[RfDFIM}DH[YPtxOunjf[S{IFnGN@Wx}ZTsE}VOiE`qnqHGJTbW^D{Z_V~YpkzT?rso{DwRu{o_rFxGjo`nf]ICycMKYT^PpTwFgCczStl]VqcQy]v{kVO?FkcVojZOOwtR|`rr?cNml}uhltP]rqtiJdiwHAPxcHteAdix|oywjR~Xn}SoyHnNjPOXOWd?@FTYnJi`qrvy_tZrzYZz{|cKeV~QBIBFJ@Kjkjcfe~Gbz[IzBFyEhyF}iElQ?PEiY~r}@P}eWOTckfWE_iae{EK@{rnl@HxYY@aPXIKI`h_ro`RdHPFI[qM}PvxIqTmmRXW_QmbBuw@iddctIFM~NyYy^oCkAXpI?TgWoBSvrt]fNRWpl?Zo`anJwhP[]FXmzvIo]uPSMwwOFhhqLC@m`xIZmiH~KMuOZ?@boGnsAvdDrdRexJcbrVy~eKDQoDKsL^gTRXs|FDDJeGOFzI?kVbs^pOIbjKWdwezEb~ndzuOXPKRyXd?xo@pVrIKFR[JNuYdQB{`UbxBDOf~qt@YcIsLgYkWZapnLyR~ajfE?HYMo`vYYwzn]ro}qyZX}clcjmPNh@ay_iF[tp^gvVRITTdcV_HxLgRwhcAKveH~[dHM{AefCmWs|pII|bvoSbEoAc]goijuCJ_YnLEzRwNAdtGavDw{pBj|de}IHwpoyPkzIJBcR~HXJ|ya@qOPkitwwWute}FKTLOODxopY~vFke|?@kO^sq`SyamcUAh`H|Pg?d]zXozFuWm?XkeV`j_b~C?}XhObIyLxeaIE`ES?zrRLC{APPvGzrFWNdR[yS~zMvjPORZGeTtomW_AhXU@PG}dGTEzYGfFczeRe}WQd~CHmplk[aXBltUmq?m`xTljed]f@YRrO_eH|vdPXJD@HE`MJWpQRAIgSgp^uAVHWmaLrICPm]@TaBbnzJIykRVHCQt[sXxLDv^FhKsTBLghlYgi?{^J@[kicxA?h?}NRLxXMIGqQd_UPiJAG_d|Ak]N_bQIWjxpZ~bkL[^`TlQyr?YS_Y{}iXlW`lJEfwaoCG@IwuIJkW]@DlMTq}XMLapmNk^RnI}JmrdhbpYY{_KW_nQI@ajHRyNDqPWn|uP_tr_ijOqyDHAQUfvJjAiuPEiTuiK}ZEoQfjyF|Qr}tGtsatdO{b}Fx?CutFd}|cysHmJ^I@YqsxKX?[{ehcWUIIXX{zUrEm[v^{OVz`XZXmHhbX`fBL`ZgY@mt?oxPZZpIjkl@QTUAdPHzmS[gq_Yz@W@folv]`zC^J`Lu^FpWZHsy`Zs]ugWkJZhfQawFtTuDTWnnmrk{GZZJZZZOTPoZBmokJOKJd^mM]m?@gnZnVRPamkvjgkdlh~@UaG?^ntIVO[dIdkFvB|}gjX{LS|sJuozEHTOWVMMpWtuJ|DSn?n^Spbjz?v_^J~vGVWprPRBb_RaeuGJbKcqHZL?ggBHWbmPMZxopJJ}K_LBlqGjNP^hwpbrMzCgCtM}]rB{wPWgKlelHXQdW}jP^rT?eqHLnQy`oOZcHLHapua|xSKXj|uefduz_h}XRBt_XDXR}aq@sNxTbb@|jsRpzwu`ypa_VF}iyT{{PYu|eYIqIjHcsj@bSlh~TjL{WU`wvpFfsBr|jbPDdWf^MiYPKkbcJ^RCt|?~^r`jso~hS~}Lvly[[PBHST]lOfhcWdoGjPvYlf[@r@[~|hSgGqwRiMmS@O`E@d`oUeOY|^aLjMNKi]F_Hwqma`VZvWGCOUjglpXfMzPIbAQYihmbNslzI}jI|Jd|`eZRopVDoi@N_}dQiyLeE@L~dZOPaD[S_C`cgEFcr?p_DUiqvcLz^XGJTebCUWopxtZ]fuSCzOpOqZ?Iq[H_DYQLZk@aLiymPXNjXyvhGaU@uL{`QXJhHSW{aBLdMXPhvsHoaxaShOB_eGagURApX`mymXKwWDMwC}kNPCvBXm`c{HDMx~Yq`vBWmYtSGnpRrQ^TwqVzuORXAKBrRdJJuskPiNRlcMtuE_htyUwU]BlolXoPTLNV_rNWSIKIOvpmuUFg@aybDy]|ti[aKI_hNgawueN@yod@mrYuiypjkUQv]UZoSB_AUNPMAcyTk_WWacvZQgWFgXJ^Q~YwcN}^AXnzrNFNQxQjVRg]aJx@Gb^BkCZ|N`Z|ZGRurGAGXa?]MPFzqj{YRs_zn^dUWdxA?KEfgVE?@pHhpZ}oCpjrw|XrvfwUnViEj?@Mw}Y@NVbjxlCfI|uvfoIrCFcpM??[u}vtvYl`?`|taJ?kROBnY_OeVaI_UkYkz?yjRwqm_hnEI{vBOi}xObZBcVr_^mZrgqgYmG`Mbx[anXric|qjBmWi~PEUzjgAIo]`oqxsf?YlcvJsTwlK]NTkrd]DbZxrvurkQZ|hPA`AaIzlosyHWHjl]^@PIWILAAjWzTDu]fubnJs|kOgINDnGjoupx}knR_oM__uFDVojtBv~^ZAzx|eXqwR]~vcBxmIRSrCLgeZaUkn}mLpb{D?FIBGB]oqxu}hTHHwfwM[_{}QmvTQaOxBu[jSAL_dNZrHE^MAZkXU[KZRxTj[IFwmR{UooFi?QjlGz@oBqSQU[M]tvzPBhhP^pdSombHfcyUTzrymF__Xs_pN_lOFVsIwHM]cpFX{HEuHdQuSOMJX]PbtjfSfzBhsvk`U?pAMY?@GlhXFoNRECmjYlv|agnIaT[ylkQf~KOdU]hKUgDo^SpxPQTG}fW_veGeSuyp{rbf_xL[~cJiuoQSsp}kqQ|HjY}]_g{pzAEBkVkCsOiDuxBhziQO}NVwPvRTzN]QJaPd`@uwPaRbU^CrOQjDk~[wpg`FSAioUtLs{|odfqbjGxnX|nB~~[bzRc[JAUkzYKjrHIPEUGcLlBTnxz`GTn~b@vW`Bo@@_[Y~ueQ?ryJPTuUXqpYN]H{ZNn}W@rVfoKDRohozWlKRTo^eiAw}YL}v`J?KUnTKaTcy`@r@RWxWj|?MQ}LB{ez_tgXMmXlU}~mzDAFLHONDqs^@QioxD[CqphQi_ugJTWd|yk|a?MF}otFUcHfZKr{eDOeedeIQwOMQgo||B~HpRaqJnYGEOlzxghihHugFYVDpmm}dxNFeAoWERC^_SbJduVVzhIYaxWIlmqEkf]`l{buJX[MlpKMCHTn~{H@iK~tc^yxP]^Cf@PJNjIb|@r@QEpIvxUoC}EJarwvQ]ZVnsIvBoyfWRDsedn`qv[UM?wpQ|Bpe[|h]@wb?dsT|tWsDyLmqeNJ'",...']charCodeAtUinyxp',"for(;e<12669;c[e++]=x-128)for(x=1;x<128;n=p.map((i,y)=>(t=r[i]*2+1,t=Math.log(t/(h-t)),A-=a[y]*t,t/1000)),A=~-h/(1+Math.exp(A))|1,U=o%h<A,o=o%h+(U?A:h-A)*(o>>15)-!U*A,p.map((i,y)=>(t=r[i]+=(U*h/2-r[i]<<15)/((C[i]+=C[i]<5)+.1)>>15,a[y]+=n[y]*(U-A/h))),x=x*2+U)for(p='010202103203210431053105410642065206541'.split(A=0).map((i,y)=>(t=0,[...i].map((i,y)=>(t=t*997+(c[e-i]|0)|0)),h*128-1&t*997+x)*12+y);o<h*128;o=o*64|M.charCodeAt(d++)&63);for(C=String.fromCharCode(...c);r=/[\0-	-@]/.exec(C);)with(C.split(r))C=join(shift());return C")([],[],1<<15,[0,0,0,0,0,0,0,0,0,0,0,0],new Uint16Array(51e6).fill(1<<13),new Uint8Array(51e6),0,0,0))</script> 
<main><div id=w draggable=true>
    <svg id=ws viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"></svg>
    <canvas id=wc></canvas>
</div></main>